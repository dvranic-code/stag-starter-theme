(function(){function r(e,n,t){function o(i,f){if(!n[i]){if(!e[i]){var c="function"==typeof require&&require;if(!f&&c)return c(i,!0);if(u)return u(i,!0);var a=new Error("Cannot find module '"+i+"'");throw a.code="MODULE_NOT_FOUND",a}var p=n[i]={exports:{}};e[i][0].call(p.exports,function(r){var n=e[i][1][r];return o(n||r)},p,p.exports,r,e,n,t)}return n[i].exports}for(var u="function"==typeof require&&require,i=0;i<t.length;i++)o(t[i]);return o}return r})()({1:[function(require,module,exports){
"use strict";

var _utils = require("../utils");
function showMenu() {
  const navigation = document.getElementById("main-navigation");
  const menuItems = document.querySelectorAll("#main-navigation li.children-zero-level.menu-item-has-children");
  const menuOverlay = document.getElementsByClassName("site-header__nav-overlay")[0];
  if (navigation === null || menuItems.length === 0) {
    return;
  }
  menuItems.forEach(menuItem => {
    menuItem.addEventListener("mouseenter", function () {
      navigation.classList.add("menu-active");
      menuOverlay.classList.add("overlay-active");
      this.classList.add("active");
    });
    menuItem.addEventListener("mouseleave", function () {
      navigation.classList.remove("menu-active");
      menuOverlay.classList.remove("overlay-active");
      this.classList.remove("active");
    });
  });
  const subMenu = document.querySelectorAll('.sub-menu li.menu-item-has-children');
  subMenu.forEach(menuItem => {
    menuItem.addEventListener("mouseenter", function () {
      this.classList.add("active");
    });
    menuItem.addEventListener("mouseleave", function () {
      this.classList.remove("active");
    });
  });
}
function getMainNavWidth() {
  const mainNavWidth = document.getElementById("mainNavWidth");
  const getWidth = mainNavWidth.offsetWidth;
  if (getWidth === null) {
    return;
  }
  document.documentElement.style.setProperty("--mainNavWidth", getWidth + "px");
}
function toggleLanguageSwitcher(id, menuClass) {
  const body = document.getElementsByTagName('body')[0];
  const languageIcon = document.getElementById(id);
  const langSubMenu = document.getElementsByClassName(menuClass)[0];
  if (!languageIcon) return;
  languageIcon.addEventListener('click', e => {
    e.stopPropagation();
    langSubMenu.classList.toggle('active');
  });
  body.addEventListener('click', e => {
    if (!e.target.classList.contains(menuClass)) langSubMenu.classList.remove('active');
  });
}
function languageSwitcher() {
  toggleLanguageSwitcher("languageIcon", "lang-sub-menu");
  toggleLanguageSwitcher("languageIconMobile", "lang-sub-menu-mobile");
}
function triggerSearchBox() {
  const body = document.getElementsByTagName('body')[0];
  const triggerSearchBox = document.getElementById("triggerSearchBox");
  const triggerSearchBoxMobile = document.getElementById("triggerSearchBoxMobile");
  const searchPopup = document.getElementsByClassName("site-header__search-popup")[0];
  if (triggerSearchBox === null || searchPopup === null) {
    return;
  }
  function handleSearchBoxClick() {
    searchPopup.classList.toggle("active");
    body.classList.toggle("disable-scroll-search");
  }
  if (triggerSearchBox) {
    triggerSearchBox.addEventListener("click", handleSearchBoxClick);
  }
  if (triggerSearchBoxMobile) {
    triggerSearchBoxMobile.addEventListener("click", handleSearchBoxClick);
  }
}
function triggerMobileMenu() {
  const body = document.getElementsByTagName('body')[0];
  const hamburger = document.getElementsByClassName("site-header__mobile-wrap--hamburger")[0];
  const mobileMobileMenu = document.getElementsByClassName("mobile-menu")[0];
  if (hamburger === null) {
    return;
  }
  const childrenZeroLevel = document.querySelectorAll('#mobile-menu-navigation li.children-zero-level.menu-item-has-children');
  const childrenFirstLevel = document.querySelectorAll('#mobile-menu-navigation li.children-first-level.menu-item-has-children');
  childrenZeroLevel.forEach(zeroItem => {
    const subMenuToggle = document.createElement('span');
    subMenuToggle.classList.add('sub-menu-toggle');
    subMenuToggle.addEventListener('click', function () {
      this.classList.toggle('active');
      this.parentElement.classList.toggle('active');
    });
    zeroItem.appendChild(subMenuToggle);
  });
  childrenFirstLevel.forEach(firstLevelItem => {
    const subMenuToggleFirstLevel = document.createElement('span');
    subMenuToggleFirstLevel.classList.add('sub-menu-level-two-toggle');
    subMenuToggleFirstLevel.addEventListener('click', function () {
      this.classList.toggle('menu-active');
      this.parentElement.classList.toggle('menu-active');
    });
    firstLevelItem.appendChild(subMenuToggleFirstLevel);
  });
  hamburger.addEventListener("click", function () {
    this.classList.toggle("hamburger--active");
    mobileMobileMenu.classList.toggle("active");
    body.classList.toggle("disable-scroll-search");
  });
}
(0, _utils.onReady)(() => {
  showMenu();
  languageSwitcher();
  triggerSearchBox();
  triggerMobileMenu();

  // TODO: Remove this after fixing the font loading issue.
  setTimeout(() => {
    getMainNavWidth();
  }, 2000);
});

},{"../utils":3}],2:[function(require,module,exports){
"use strict";

(() => {
  require("./components/header.js");
})();

},{"./components/header.js":1}],3:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.onReady = exports.debounce = void 0;
/**
 *
 * @param {Function} fn The user defined function to execute only upon successful DOM load
 */
const onReady = fn => {
  if (document.readyState !== "loading") {
    fn();
  } else {
    document.addEventListener("DOMContentLoaded", fn);
  }
};

/**
 * Execute a given function after a giving timeout period
 * @param {Function} fn The function to call
 * @param {number} timeout In miliseconds the amount of time to wait
 * @returns {Function}
 */
exports.onReady = onReady;
const debounce = (fn, timeout) => {
  let timeoutId;
  return function () {
    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }
    clearTimeout(timeoutId);
    timeoutId = setTimeout(() => fn.apply(this, args), timeout);
  };
};
exports.debounce = debounce;

},{}]},{},[1,2,3])
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vZGVfbW9kdWxlcy9icm93c2VyLXBhY2svX3ByZWx1ZGUuanMiLCJhc3NldHMvcHVibGljL3NyYy9qcy9jb21wb25lbnRzL2hlYWRlci5qcyIsImFzc2V0cy9wdWJsaWMvc3JjL2pzL2RlZmF1bHQuanMiLCJhc3NldHMvcHVibGljL3NyYy9qcy91dGlscy5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtBQ0FBLFlBQVk7O0FBRVosSUFBQSxNQUFBLEdBQUEsT0FBQTtBQUVBLFNBQVMsUUFBUSxDQUFBLEVBQUc7RUFDbEIsTUFBTSxVQUFVLEdBQUcsUUFBUSxDQUFDLGNBQWMsQ0FBQyxpQkFBaUIsQ0FBQztFQUM3RCxNQUFNLFNBQVMsR0FBRyxRQUFRLENBQUMsZ0JBQWdCLENBQUMsZ0VBQWdFLENBQUM7RUFDN0csTUFBTSxXQUFXLEdBQUcsUUFBUSxDQUFDLHNCQUFzQixDQUNqRCwwQkFDRixDQUFDLENBQUMsQ0FBQyxDQUFDO0VBR0osSUFBSSxVQUFVLEtBQUssSUFBSSxJQUFJLFNBQVMsQ0FBQyxNQUFNLEtBQUssQ0FBQyxFQUFFO0lBQ2pEO0VBQ0Y7RUFFQSxTQUFTLENBQUMsT0FBTyxDQUFFLFFBQVEsSUFBSztJQUM5QixRQUFRLENBQUMsZ0JBQWdCLENBQUMsWUFBWSxFQUFFLFlBQVc7TUFDakQsVUFBVSxDQUFDLFNBQVMsQ0FBQyxHQUFHLENBQUMsYUFBYSxDQUFDO01BQ3ZDLFdBQVcsQ0FBQyxTQUFTLENBQUMsR0FBRyxDQUFDLGdCQUFnQixDQUFDO01BQzNDLElBQUksQ0FBQyxTQUFTLENBQUMsR0FBRyxDQUFDLFFBQVEsQ0FBQztJQUM5QixDQUFDLENBQUM7SUFFRixRQUFRLENBQUMsZ0JBQWdCLENBQUMsWUFBWSxFQUFFLFlBQVc7TUFDakQsVUFBVSxDQUFDLFNBQVMsQ0FBQyxNQUFNLENBQUMsYUFBYSxDQUFDO01BQzFDLFdBQVcsQ0FBQyxTQUFTLENBQUMsTUFBTSxDQUFDLGdCQUFnQixDQUFDO01BQzlDLElBQUksQ0FBQyxT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RUFBRTtJQUNyQyxFQUFFLENBQUMsQ0FBQztFQUNOLENBQUMsTUFBTTtJQUNMLFFBQVEsQ0FBQyxnQkFBZ0IsQ0FBQyxrQkFBa0IsRUFBRSxFQUFFLENBQUM7RUFDbkQ7QUFDRixDQUFDOztBQUVEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUxBLE9BQUEsQ0FBQSxPQUFBLEdBQUEsT0FBQTtBQU1PLE1BQU0sUUFBUSxHQUFHLENBQUMsRUFBRSxFQUFFLE9BQU8sS0FBSztFQUN2QyxJQUFJLFNBQVM7RUFFYixPQUFPLFlBQW1CO0lBQUEsU0FBQSxJQUFBLEdBQUEsU0FBQSxDQUFBLE1BQUEsRUFBTixJQUFJLE9BQUEsS0FBQSxDQUFBLElBQUEsR0FBQSxJQUFBLE1BQUEsSUFBQSxHQUFBLElBQUEsRUFBQSxJQUFBO01BQUosSUFBSSxDQUFBLElBQUEsSUFBQSxTQUFBLENBQUEsSUFBQTtJQUFBO0lBQ3RCLFlBQVksQ0FBQyxTQUFTLENBQUM7SUFDdkIsU0FBUyxHQUFHLFVBQVUsQ0FBQyxNQUFNLEVBQUUsQ0FBQyxLQUFLLENBQUMsSUFBSSxFQUFFLElBQUksQ0FBQyxFQUFFLE9BQU8sQ0FBQztFQUM3RCxDQUFDO0FBQ0gsQ0FBQztBQUFDLE9BQUEsQ0FBQSxRQUFBLEdBQUEsUUFBQSIsImZpbGUiOiJnZW5lcmF0ZWQuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlc0NvbnRlbnQiOlsiKGZ1bmN0aW9uKCl7ZnVuY3Rpb24gcihlLG4sdCl7ZnVuY3Rpb24gbyhpLGYpe2lmKCFuW2ldKXtpZighZVtpXSl7dmFyIGM9XCJmdW5jdGlvblwiPT10eXBlb2YgcmVxdWlyZSYmcmVxdWlyZTtpZighZiYmYylyZXR1cm4gYyhpLCEwKTtpZih1KXJldHVybiB1KGksITApO3ZhciBhPW5ldyBFcnJvcihcIkNhbm5vdCBmaW5kIG1vZHVsZSAnXCIraStcIidcIik7dGhyb3cgYS5jb2RlPVwiTU9EVUxFX05PVF9GT1VORFwiLGF9dmFyIHA9bltpXT17ZXhwb3J0czp7fX07ZVtpXVswXS5jYWxsKHAuZXhwb3J0cyxmdW5jdGlvbihyKXt2YXIgbj1lW2ldWzFdW3JdO3JldHVybiBvKG58fHIpfSxwLHAuZXhwb3J0cyxyLGUsbix0KX1yZXR1cm4gbltpXS5leHBvcnRzfWZvcih2YXIgdT1cImZ1bmN0aW9uXCI9PXR5cGVvZiByZXF1aXJlJiZyZXF1aXJlLGk9MDtpPHQubGVuZ3RoO2krKylvKHRbaV0pO3JldHVybiBvfXJldHVybiByfSkoKSIsIlwidXNlIHN0cmljdFwiO1xuXG5pbXBvcnQgeyBkZWJvdW5jZSwgb25SZWFkeSB9IGZyb20gXCIuLi91dGlsc1wiO1xuXG5mdW5jdGlvbiBzaG93TWVudSgpIHtcbiAgY29uc3QgbmF2aWdhdGlvbiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwibWFpbi1uYXZpZ2F0aW9uXCIpO1xuICBjb25zdCBtZW51SXRlbXMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKFwiI21haW4tbmF2aWdhdGlvbiBsaS5jaGlsZHJlbi16ZXJvLWxldmVsLm1lbnUtaXRlbS1oYXMtY2hpbGRyZW5cIik7XG4gIGNvbnN0IG1lbnVPdmVybGF5ID0gZG9jdW1lbnQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZShcbiAgICBcInNpdGUtaGVhZGVyX19uYXYtb3ZlcmxheVwiXG4gIClbMF07XG4gIFxuXG4gIGlmIChuYXZpZ2F0aW9uID09PSBudWxsIHx8IG1lbnVJdGVtcy5sZW5ndGggPT09IDApIHtcbiAgICByZXR1cm47XG4gIH1cblxuICBtZW51SXRlbXMuZm9yRWFjaCgobWVudUl0ZW0pID0+IHtcbiAgICBtZW51SXRlbS5hZGRFdmVudExpc3RlbmVyKFwibW91c2VlbnRlclwiLCBmdW5jdGlvbigpIHtcbiAgICAgIG5hdmlnYXRpb24uY2xhc3NMaXN0LmFkZChcIm1lbnUtYWN0aXZlXCIpO1xuICAgICAgbWVudU92ZXJsYXkuY2xhc3NMaXN0LmFkZChcIm92ZXJsYXktYWN0aXZlXCIpO1xuICAgICAgdGhpcy5jbGFzc0xpc3QuYWRkKFwiYWN0aXZlXCIpO1xuICAgIH0pO1xuICBcbiAgICBtZW51SXRlbS5hZGRFdmVudExpc3RlbmVyKFwibW91c2VsZWF2ZVwiLCBmdW5jdGlvbigpIHtcbiAgICAgIG5hdmlnYXRpb24uY2xhc3NMaXN0LnJlbW92ZShcIm1lbnUtYWN0aXZlXCIpO1xuICAgICAgbWVudU92ZXJsYXkuY2xhc3NMaXN0LnJlbW92ZShcIm92ZXJsYXktYWN0aXZlXCIpO1xuICAgICAgdGhpcy5jbGFzc0xpc3QucmVtb3ZlKFwiYWN0aXZlXCIpO1xuICAgIH0pO1xuICB9KTtcblxuICBcbiAgY29uc3Qgc3ViTWVudSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5zdWItbWVudSBsaS5tZW51LWl0ZW0taGFzLWNoaWxkcmVuJyk7XG4gIFxuICBzdWJNZW51LmZvckVhY2goKG1lbnVJdGVtKSA9PiB7XG4gICAgbWVudUl0ZW0uYWRkRXZlbnRMaXN0ZW5lcihcIm1vdXNlZW50ZXJcIiwgZnVuY3Rpb24oKSB7XG4gICAgICB0aGlzLmNsYXNzTGlzdC5hZGQoXCJhY3RpdmVcIik7XG4gICAgfSk7XG4gIFxuICAgIG1lbnVJdGVtLmFkZEV2ZW50TGlzdGVuZXIoXCJtb3VzZWxlYXZlXCIsIGZ1bmN0aW9uKCkge1xuICAgICAgdGhpcy5jbGFzc0xpc3QucmVtb3ZlKFwiYWN0aXZlXCIpO1xuICAgIH0pO1xuICB9KTtcblxufVxuXG5mdW5jdGlvbiBnZXRNYWluTmF2V2lkdGgoKSB7XG4gIGNvbnN0IG1haW5OYXZXaWR0aCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwibWFpbk5hdldpZHRoXCIpO1xuICBjb25zdCBnZXRXaWR0aCA9IG1haW5OYXZXaWR0aC5vZmZzZXRXaWR0aDtcblxuICBpZiAoZ2V0V2lkdGggPT09IG51bGwpIHtcbiAgICByZXR1cm47XG4gIH1cblxuICBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuc3R5bGUuc2V0UHJvcGVydHkoXCItLW1haW5OYXZXaWR0aFwiLCBnZXRXaWR0aCArIFwicHhcIik7XG59XG5cbmZ1bmN0aW9uIHRvZ2dsZUxhbmd1YWdlU3dpdGNoZXIoaWQsIG1lbnVDbGFzcykge1xuICBjb25zdCBib2R5ID0gZG9jdW1lbnQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoJ2JvZHknKVswXTtcbiAgY29uc3QgbGFuZ3VhZ2VJY29uID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoaWQpO1xuICBjb25zdCBsYW5nU3ViTWVudSA9IGRvY3VtZW50LmdldEVsZW1lbnRzQnlDbGFzc05hbWUobWVudUNsYXNzKVswXTtcblxuICBpZiAoIWxhbmd1YWdlSWNvbikgcmV0dXJuO1xuXG4gIGxhbmd1YWdlSWNvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGUgPT4ge1xuICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgbGFuZ1N1Yk1lbnUuY2xhc3NMaXN0LnRvZ2dsZSgnYWN0aXZlJyk7XG4gIH0pO1xuXG4gIGJvZHkuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBlID0+IHtcbiAgICBpZiAoIWUudGFyZ2V0LmNsYXNzTGlzdC5jb250YWlucyhtZW51Q2xhc3MpKSBsYW5nU3ViTWVudS5jbGFzc0xpc3QucmVtb3ZlKCdhY3RpdmUnKTtcbiAgfSk7XG59XG5cbmZ1bmN0aW9uIGxhbmd1YWdlU3dpdGNoZXIoKSB7XG4gIHRvZ2dsZUxhbmd1YWdlU3dpdGNoZXIoXCJsYW5ndWFnZUljb25cIiwgXCJsYW5nLXN1Yi1tZW51XCIpO1xuICB0b2dnbGVMYW5ndWFnZVN3aXRjaGVyKFwibGFuZ3VhZ2VJY29uTW9iaWxlXCIsIFwibGFuZy1zdWItbWVudS1tb2JpbGVcIik7XG59XG5cbmZ1bmN0aW9uIHRyaWdnZXJTZWFyY2hCb3goKSB7XG4gIGNvbnN0IGJvZHkgPSBkb2N1bWVudC5nZXRFbGVtZW50c0J5VGFnTmFtZSgnYm9keScpWzBdO1xuICBjb25zdCB0cmlnZ2VyU2VhcmNoQm94ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJ0cmlnZ2VyU2VhcmNoQm94XCIpO1xuICBjb25zdCB0cmlnZ2VyU2VhcmNoQm94TW9iaWxlID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJ0cmlnZ2VyU2VhcmNoQm94TW9iaWxlXCIpO1xuICBjb25zdCBzZWFyY2hQb3B1cCA9IGRvY3VtZW50LmdldEVsZW1lbnRzQnlDbGFzc05hbWUoXCJzaXRlLWhlYWRlcl9fc2VhcmNoLXBvcHVwXCIpWzBdO1xuXG4gIGlmICh0cmlnZ2VyU2VhcmNoQm94ID09PSBudWxsIHx8IHNlYXJjaFBvcHVwID09PSBudWxsKSB7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgZnVuY3Rpb24gaGFuZGxlU2VhcmNoQm94Q2xpY2soKSB7XG4gICAgc2VhcmNoUG9wdXAuY2xhc3NMaXN0LnRvZ2dsZShcImFjdGl2ZVwiKTtcbiAgICBib2R5LmNsYXNzTGlzdC50b2dnbGUoXCJkaXNhYmxlLXNjcm9sbC1zZWFyY2hcIik7XG4gIH1cblxuICBpZiAodHJpZ2dlclNlYXJjaEJveCkge1xuICAgIHRyaWdnZXJTZWFyY2hCb3guYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIGhhbmRsZVNlYXJjaEJveENsaWNrKTtcbiAgfVxuXG4gIGlmICh0cmlnZ2VyU2VhcmNoQm94TW9iaWxlKSB7XG4gICAgdHJpZ2dlclNlYXJjaEJveE1vYmlsZS5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgaGFuZGxlU2VhcmNoQm94Q2xpY2spO1xuICB9XG59XG5cbmZ1bmN0aW9uIHRyaWdnZXJNb2JpbGVNZW51KCkge1xuICBjb25zdCBib2R5ID0gZG9jdW1lbnQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoJ2JvZHknKVswXTtcbiAgY29uc3QgaGFtYnVyZ2VyID0gZG9jdW1lbnQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZShcInNpdGUtaGVhZGVyX19tb2JpbGUtd3JhcC0taGFtYnVyZ2VyXCIpWzBdO1xuICBjb25zdCBtb2JpbGVNb2JpbGVNZW51ID0gZG9jdW1lbnQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZShcIm1vYmlsZS1tZW51XCIpWzBdO1xuXG4gIGlmIChoYW1idXJnZXIgPT09IG51bGwpIHtcbiAgICByZXR1cm47XG4gIH1cblxuICBjb25zdCBjaGlsZHJlblplcm9MZXZlbCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJyNtb2JpbGUtbWVudS1uYXZpZ2F0aW9uIGxpLmNoaWxkcmVuLXplcm8tbGV2ZWwubWVudS1pdGVtLWhhcy1jaGlsZHJlbicpO1xuICBjb25zdCBjaGlsZHJlbkZpcnN0TGV2ZWwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcjbW9iaWxlLW1lbnUtbmF2aWdhdGlvbiBsaS5jaGlsZHJlbi1maXJzdC1sZXZlbC5tZW51LWl0ZW0taGFzLWNoaWxkcmVuJyk7XG4gIFxuICBjaGlsZHJlblplcm9MZXZlbC5mb3JFYWNoKCh6ZXJvSXRlbSkgPT4ge1xuICAgIGNvbnN0IHN1Yk1lbnVUb2dnbGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzcGFuJyk7XG4gICAgc3ViTWVudVRvZ2dsZS5jbGFzc0xpc3QuYWRkKCdzdWItbWVudS10b2dnbGUnKTtcbiAgICBcbiAgICBzdWJNZW51VG9nZ2xlLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgZnVuY3Rpb24gKCkge1xuICAgICAgdGhpcy5jbGFzc0xpc3QudG9nZ2xlKCdhY3RpdmUnKTtcbiAgICAgIHRoaXMucGFyZW50RWxlbWVudC5jbGFzc0xpc3QudG9nZ2xlKCdhY3RpdmUnKTtcbiAgICB9KTtcbiAgICBcbiAgICB6ZXJvSXRlbS5hcHBlbmRDaGlsZChzdWJNZW51VG9nZ2xlKTtcbiAgfSk7XG5cbiAgY2hpbGRyZW5GaXJzdExldmVsLmZvckVhY2goKGZpcnN0TGV2ZWxJdGVtKSA9PiB7XG4gICAgY29uc3Qgc3ViTWVudVRvZ2dsZUZpcnN0TGV2ZWwgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzcGFuJyk7XG4gICAgc3ViTWVudVRvZ2dsZUZpcnN0TGV2ZWwuY2xhc3NMaXN0LmFkZCgnc3ViLW1lbnUtbGV2ZWwtdHdvLXRvZ2dsZScpO1xuICBcbiAgICBzdWJNZW51VG9nZ2xlRmlyc3RMZXZlbC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGZ1bmN0aW9uICgpIHtcbiAgICAgIHRoaXMuY2xhc3NMaXN0LnRvZ2dsZSgnbWVudS1hY3RpdmUnKTtcbiAgICAgIHRoaXMucGFyZW50RWxlbWVudC5jbGFzc0xpc3QudG9nZ2xlKCdtZW51LWFjdGl2ZScpO1xuICAgIH0pO1xuXG4gICAgZmlyc3RMZXZlbEl0ZW0uYXBwZW5kQ2hpbGQoc3ViTWVudVRvZ2dsZUZpcnN0TGV2ZWwpO1xuICB9KTtcblxuICBoYW1idXJnZXIuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIGZ1bmN0aW9uKCkge1xuICAgIHRoaXMuY2xhc3NMaXN0LnRvZ2dsZShcImhhbWJ1cmdlci0tYWN0aXZlXCIpO1xuICAgIG1vYmlsZU1vYmlsZU1lbnUuY2xhc3NMaXN0LnRvZ2dsZShcImFjdGl2ZVwiKTtcbiAgICBib2R5LmNsYXNzTGlzdC50b2dnbGUoXCJkaXNhYmxlLXNjcm9sbC1zZWFyY2hcIik7XG4gIH0pO1xufVxuXG5vblJlYWR5KCgpID0+IHtcbiAgc2hvd01lbnUoKTtcbiAgbGFuZ3VhZ2VTd2l0Y2hlcigpO1xuICB0cmlnZ2VyU2VhcmNoQm94KCk7XG4gIHRyaWdnZXJNb2JpbGVNZW51KCk7XG5cbiAgLy8gVE9ETzogUmVtb3ZlIHRoaXMgYWZ0ZXIgZml4aW5nIHRoZSBmb250IGxvYWRpbmcgaXNzdWUuXG4gIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgIGdldE1haW5OYXZXaWR0aCgpO1xuICB9LCAyMDAwKTtcbn0pO1xuIiwiKCgpID0+IHtcbiAgcmVxdWlyZShcIi4vY29tcG9uZW50cy9oZWFkZXIuanNcIik7XG59KSgpOyIsIi8qKlxuICpcbiAqIEBwYXJhbSB7RnVuY3Rpb259IGZuIFRoZSB1c2VyIGRlZmluZWQgZnVuY3Rpb24gdG8gZXhlY3V0ZSBvbmx5IHVwb24gc3VjY2Vzc2Z1bCBET00gbG9hZFxuICovXG5leHBvcnQgY29uc3Qgb25SZWFkeSA9IChmbikgPT4ge1xuICBpZiAoZG9jdW1lbnQucmVhZHlTdGF0ZSAhPT0gXCJsb2FkaW5nXCIpIHtcbiAgICBmbigpO1xuICB9IGVsc2Uge1xuICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJET01Db250ZW50TG9hZGVkXCIsIGZuKTtcbiAgfVxufTtcblxuLyoqXG4gKiBFeGVjdXRlIGEgZ2l2ZW4gZnVuY3Rpb24gYWZ0ZXIgYSBnaXZpbmcgdGltZW91dCBwZXJpb2RcbiAqIEBwYXJhbSB7RnVuY3Rpb259IGZuIFRoZSBmdW5jdGlvbiB0byBjYWxsXG4gKiBAcGFyYW0ge251bWJlcn0gdGltZW91dCBJbiBtaWxpc2Vjb25kcyB0aGUgYW1vdW50IG9mIHRpbWUgdG8gd2FpdFxuICogQHJldHVybnMge0Z1bmN0aW9ufVxuICovXG5leHBvcnQgY29uc3QgZGVib3VuY2UgPSAoZm4sIHRpbWVvdXQpID0+IHtcbiAgbGV0IHRpbWVvdXRJZDtcblxuICByZXR1cm4gZnVuY3Rpb24gKC4uLmFyZ3MpIHtcbiAgICBjbGVhclRpbWVvdXQodGltZW91dElkKTtcbiAgICB0aW1lb3V0SWQgPSBzZXRUaW1lb3V0KCgpID0+IGZuLmFwcGx5KHRoaXMsIGFyZ3MpLCB0aW1lb3V0KTtcbiAgfTtcbn07Il19
