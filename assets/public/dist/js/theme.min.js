(function(){function r(e,n,t){function o(i,f){if(!n[i]){if(!e[i]){var c="function"==typeof require&&require;if(!f&&c)return c(i,!0);if(u)return u(i,!0);var a=new Error("Cannot find module '"+i+"'");throw a.code="MODULE_NOT_FOUND",a}var p=n[i]={exports:{}};e[i][0].call(p.exports,function(r){var n=e[i][1][r];return o(n||r)},p,p.exports,r,e,n,t)}return n[i].exports}for(var u="function"==typeof require&&require,i=0;i<t.length;i++)o(t[i]);return o}return r})()({1:[function(require,module,exports){
"use strict";

var _utils = require("../utils");
function showMenu() {
  const navigation = document.getElementById("main-navigation");
  const menuItems = document.querySelectorAll("#main-navigation li.children-zero-level.menu-item-has-children");
  const menuOverlay = document.getElementsByClassName("site-header__nav-overlay")[0];
  if (navigation === null || menuItems.length === 0) {
    return;
  }
  menuItems.forEach(menuItem => {
    menuItem.addEventListener("mouseenter", function () {
      navigation.classList.add("menu-active");
      menuOverlay.classList.add("overlay-active");
      this.classList.add("active");
    });
    menuItem.addEventListener("mouseleave", function () {
      navigation.classList.remove("menu-active");
      menuOverlay.classList.remove("overlay-active");
      this.classList.remove("active");
    });
  });
  const subMenu = document.querySelectorAll(".sub-menu li.menu-item-has-children");
  subMenu.forEach(menuItem => {
    menuItem.addEventListener("mouseenter", function () {
      this.classList.add("active");
    });
    menuItem.addEventListener("mouseleave", function () {
      this.classList.remove("active");
    });
  });
}
function getMainNavWidth() {
  const mainNavWidth = document.getElementById("mainNavWidth");
  const getWidth = mainNavWidth.offsetWidth;
  if (getWidth === null) {
    return;
  }
  document.documentElement.style.setProperty("--mainNavWidth", getWidth + "px");
}
function languageSwitcher() {
  const body = document.getElementsByTagName("body")[0];
  const languageIcon = document.getElementById("languageIcon");
  const lang_sub_menu = document.getElementsByClassName("lang-sub-menu")[0];
  if (!languageIcon) return;
  languageIcon.addEventListener("click", e => {
    e.stopPropagation();
    lang_sub_menu.classList.toggle("active");
  });
  body.addEventListener("click", e => {
    if (languageIcon) {
      if (!e.target.classList.contains("lang-sub-menu")) lang_sub_menu.classList.remove("active");
    }
  });
}
function triggerSearchBox() {
  const body = document.getElementsByTagName("body")[0];
  const triggerSearchBox = document.getElementById("triggerSearchBox");
  const triggerSearchBoxMobile = document.getElementById("triggerSearchBoxMobile");
  const searchPopup = document.getElementsByClassName("site-header__search-popup")[0];
  if (triggerSearchBox === null || searchPopup === null) {
    return;
  }
  function handleSearchBoxClick() {
    searchPopup.classList.toggle("active");
    body.classList.toggle("disable-scroll-search");
  }
  if (triggerSearchBox) {
    triggerSearchBox.addEventListener("click", handleSearchBoxClick);
  }
  if (triggerSearchBoxMobile) {
    triggerSearchBoxMobile.addEventListener("click", handleSearchBoxClick);
  }
}
function triggerMobileMenu() {
  const body = document.getElementsByTagName("body")[0];
  const hamburger = document.getElementsByClassName("site-header__mobile-wrap--hamburger")[0];
  const mobileMobileMenu = document.getElementsByClassName("mobile-menu")[0];
  if (hamburger === null) {
    return;
  }
  const zeroLevelItems = document.querySelectorAll("#mobile-menu-navigation li.children-zero-level.menu-item-has-children");
  const firstLevelItems = document.querySelectorAll("#mobile-menu-navigation li.children-first-level.menu-item-has-children");

  // Function to create a submenu toggle button and attach the click event
  function createSubMenuToggle(item, toggleClass) {
    const subMenuToggle = document.createElement("button");
    subMenuToggle.classList.add(toggleClass);
    subMenuToggle.addEventListener("click", function () {
      this.classList.toggle("active");
      item.classList.toggle("active");
    });
    item.appendChild(subMenuToggle);
  }

  // Add submenu toggle buttons to zero-level items
  zeroLevelItems.forEach(zeroItem => {
    createSubMenuToggle(zeroItem, "sub-menu-toggle");
  });

  // Add submenu toggle buttons to first-level items
  firstLevelItems.forEach(firstLevelItem => {
    createSubMenuToggle(firstLevelItem, "sub-menu-level-two-toggle");
  });
  hamburger.addEventListener("click", function () {
    this.classList.toggle("hamburger--active");
    mobileMobileMenu.classList.toggle("active");
    body.classList.toggle("disable-scroll-search");
  });
}
(0, _utils.onReady)(() => {
  showMenu();
  languageSwitcher();
  triggerSearchBox();
  triggerMobileMenu();

  // TODO: Remove this after fixing the font loading issue.
  setTimeout(() => {
    getMainNavWidth();
  }, 2000);
});

},{"../utils":3}],2:[function(require,module,exports){
"use strict";

(() => {
  require("./components/header.js");
})();

},{"./components/header.js":1}],3:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.onReady = exports.debounce = void 0;
/**
 *
 * @param {Function} fn The user defined function to execute only upon successful DOM load
 */
const onReady = fn => {
  if (document.readyState !== "loading") {
    fn();
  } else {
    document.addEventListener("DOMContentLoaded", fn);
  }
};

/**
 * Execute a given function after a giving timeout period
 * @param {Function} fn The function to call
 * @param {number} timeout In miliseconds the amount of time to wait
 * @returns {Function}
 */
exports.onReady = onReady;
const debounce = (fn, timeout) => {
  let timeoutId;
  return function () {
    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }
    clearTimeout(timeoutId);
    timeoutId = setTimeout(() => fn.apply(this, args), timeout);
  };
};
exports.debounce = debounce;

},{}]},{},[1,2,3])
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vZGVfbW9kdWxlcy9icm93c2VyLXBhY2svX3ByZWx1ZGUuanMiLCJhc3NldHMvcHVibGljL3NyYy9qcy9jb21wb25lbnRzL2hlYWRlci5qcyIsImFzc2V0cy9wdWJsaWMvc3JjL2pzL2RlZmF1bHQuanMiLCJhc3NldHMvcHVibGljL3NyYy9qcy91dGlscy5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtBQ0FBLFlBQVk7O0FBRVosSUFBQSxNQUFBLEdBQUEsT0FBQTtBQUVBLFNBQVMsUUFBUSxDQUFBLEVBQUc7RUFDbEIsTUFBTSxVQUFVLEdBQUcsUUFBUSxDQUFDLGNBQWMsQ0FBQyxpQkFBaUIsQ0FBQztFQUM3RCxNQUFNLFNBQVMsR0FBRyxRQUFRLENBQUMsZ0JBQWdCLENBQ3pDLGdFQUNGLENBQUM7RUFDRCxNQUFNLFdBQVcsR0FBRyxRQUFRLENBQUMsc0JBQXNCLENBQ2pELDBCQUNGLENBQUMsQ0FBQyxDQUFDLENBQUM7RUFFSixJQUFJLFVBQVUsS0FBSyxJQUFJLElBQUksU0FBUyxDQUFDLE1BQU0sS0FBSyxDQUFDLEVBQUU7SUFDakQ7RUFDRjtFQUVBLFNBQVMsQ0FBQyxPQUFPLENBQUUsUUFBUSxJQUFLO0lBQzlCLFFBQVEsQ0FBQyxnQkFBZ0IsQ0FBQyxZQUFZLEVBQUUsWUFBWTtNQUNsRCxVQUFVLENBQUMsU0FBUyxDQUFDLEdBQUcsQ0FBQyxhQUFhLENBQUM7TUFDdkMsV0FBVyxDQUFDLFNBQVMsQ0FBQyxHQUFHLENBQUMsZ0JBQWdCLENBQUM7TUFDM0MsSUFBSSxDQUFDLFNBQVMsQ0FBQyxHQUFHLENBQUMsUUFBUSxDQUFDO0lBQzlCLENBQUMsQ0FBQztJQUVGLFFBQVEsQ0FBQyxnQkFBZ0IsQ0FBQyxZQUFZLEVBQUUsWUFBWTtNQUNsRCxVQUFVLENBQUMsU0FBUyxDQUFDLE1BQU0sQ0FBQyxhQUFhLENBQUM7TUFDMUMsV0FBVyxDQUFDLFNBQVMsQ0FBQyxNQUFNLENBQUMsZ0JBQWdCLENBQUM7TUFDOUMsSUFBSSxDQUFDLFNB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QUFJLE9BQUEsS0FBQSxDQUFBLElBQUEsR0FBQSxJQUFBLE1BQUEsSUFBQSxHQUFBLElBQUEsRUFBQSxJQUFBO01BQUosSUFBSSxDQUFBLElBQUEsSUFBQSxTQUFBLENBQUEsSUFBQTtJQUFBO0lBQ3RCLFlBQVksQ0FBQyxTQUFTLENBQUM7SUFDdkIsU0FBUyxHQUFHLFVBQVUsQ0FBQyxNQUFNLEVBQUUsQ0FBQyxLQUFLLENBQUMsSUFBSSxFQUFFLElBQUksQ0FBQyxFQUFFLE9BQU8sQ0FBQztFQUM3RCxDQUFDO0FBQ0gsQ0FBQztBQUFDLE9BQUEsQ0FBQSxRQUFBLEdBQUEsUUFBQSIsImZpbGUiOiJnZW5lcmF0ZWQuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlc0NvbnRlbnQiOlsiKGZ1bmN0aW9uKCl7ZnVuY3Rpb24gcihlLG4sdCl7ZnVuY3Rpb24gbyhpLGYpe2lmKCFuW2ldKXtpZighZVtpXSl7dmFyIGM9XCJmdW5jdGlvblwiPT10eXBlb2YgcmVxdWlyZSYmcmVxdWlyZTtpZighZiYmYylyZXR1cm4gYyhpLCEwKTtpZih1KXJldHVybiB1KGksITApO3ZhciBhPW5ldyBFcnJvcihcIkNhbm5vdCBmaW5kIG1vZHVsZSAnXCIraStcIidcIik7dGhyb3cgYS5jb2RlPVwiTU9EVUxFX05PVF9GT1VORFwiLGF9dmFyIHA9bltpXT17ZXhwb3J0czp7fX07ZVtpXVswXS5jYWxsKHAuZXhwb3J0cyxmdW5jdGlvbihyKXt2YXIgbj1lW2ldWzFdW3JdO3JldHVybiBvKG58fHIpfSxwLHAuZXhwb3J0cyxyLGUsbix0KX1yZXR1cm4gbltpXS5leHBvcnRzfWZvcih2YXIgdT1cImZ1bmN0aW9uXCI9PXR5cGVvZiByZXF1aXJlJiZyZXF1aXJlLGk9MDtpPHQubGVuZ3RoO2krKylvKHRbaV0pO3JldHVybiBvfXJldHVybiByfSkoKSIsIlwidXNlIHN0cmljdFwiO1xuXG5pbXBvcnQgeyBkZWJvdW5jZSwgb25SZWFkeSB9IGZyb20gXCIuLi91dGlsc1wiO1xuXG5mdW5jdGlvbiBzaG93TWVudSgpIHtcbiAgY29uc3QgbmF2aWdhdGlvbiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwibWFpbi1uYXZpZ2F0aW9uXCIpO1xuICBjb25zdCBtZW51SXRlbXMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKFxuICAgIFwiI21haW4tbmF2aWdhdGlvbiBsaS5jaGlsZHJlbi16ZXJvLWxldmVsLm1lbnUtaXRlbS1oYXMtY2hpbGRyZW5cIlxuICApO1xuICBjb25zdCBtZW51T3ZlcmxheSA9IGRvY3VtZW50LmdldEVsZW1lbnRzQnlDbGFzc05hbWUoXG4gICAgXCJzaXRlLWhlYWRlcl9fbmF2LW92ZXJsYXlcIlxuICApWzBdO1xuXG4gIGlmIChuYXZpZ2F0aW9uID09PSBudWxsIHx8IG1lbnVJdGVtcy5sZW5ndGggPT09IDApIHtcbiAgICByZXR1cm47XG4gIH1cblxuICBtZW51SXRlbXMuZm9yRWFjaCgobWVudUl0ZW0pID0+IHtcbiAgICBtZW51SXRlbS5hZGRFdmVudExpc3RlbmVyKFwibW91c2VlbnRlclwiLCBmdW5jdGlvbiAoKSB7XG4gICAgICBuYXZpZ2F0aW9uLmNsYXNzTGlzdC5hZGQoXCJtZW51LWFjdGl2ZVwiKTtcbiAgICAgIG1lbnVPdmVybGF5LmNsYXNzTGlzdC5hZGQoXCJvdmVybGF5LWFjdGl2ZVwiKTtcbiAgICAgIHRoaXMuY2xhc3NMaXN0LmFkZChcImFjdGl2ZVwiKTtcbiAgICB9KTtcblxuICAgIG1lbnVJdGVtLmFkZEV2ZW50TGlzdGVuZXIoXCJtb3VzZWxlYXZlXCIsIGZ1bmN0aW9uICgpIHtcbiAgICAgIG5hdmlnYXRpb24uY2xhc3NMaXN0LnJlbW92ZShcIm1lbnUtYWN0aXZlXCIpO1xuICAgICAgbWVudU92ZXJsYXkuY2xhc3NMaXN0LnJlbW92ZShcIm92ZXJsYXktYWN0aXZlXCIpO1xuICAgICAgdGhpcy5jbGFzc0xpc3QucmVtb3ZlKFwiYWN0aXZlXCIpO1xuICAgIH0pO1xuICB9KTtcblxuICBjb25zdCBzdWJNZW51ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChcbiAgICBcIi5zdWItbWVudSBsaS5tZW51LWl0ZW0taGFzLWNoaWxkcmVuXCJcbiAgKTtcblxuICBzdWJNZW51LmZvckVhY2goKG1lbnVJdGVtKSA9PiB7XG4gICAgbWVudUl0ZW0uYWRkRXZlbnRMaXN0ZW5lcihcIm1vdXNlZW50ZXJcIiwgZnVuY3Rpb24gKCkge1xuICAgICAgdGhpcy5jbGFzc0xpc3QuYWRkKFwiYWN0aXZlXCIpO1xuICAgIH0pO1xuXG4gICAgbWVudUl0ZW0uYWRkRXZlbnRMaXN0ZW5lcihcIm1vdXNlbGVhdmVcIiwgZnVuY3Rpb24gKCkge1xuICAgICAgdGhpcy5jbGFzc0xpc3QucmVtb3ZlKFwiYWN0aXZlXCIpO1xuICAgIH0pO1xuICB9KTtcbn1cblxuZnVuY3Rpb24gZ2V0TWFpbk5hdldpZHRoKCkge1xuICBjb25zdCBtYWluTmF2V2lkdGggPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcIm1haW5OYXZXaWR0aFwiKTtcbiAgY29uc3QgZ2V0V2lkdGggPSBtYWluTmF2V2lkdGgub2Zmc2V0V2lkdGg7XG5cbiAgaWYgKGdldFdpZHRoID09PSBudWxsKSB7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LnN0eWxlLnNldFByb3BlcnR5KFwiLS1tYWluTmF2V2lkdGhcIiwgZ2V0V2lkdGggKyBcInB4XCIpO1xufVxuXG5mdW5jdGlvbiBsYW5ndWFnZVN3aXRjaGVyKCkge1xuICBjb25zdCBib2R5ID0gZG9jdW1lbnQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoXCJib2R5XCIpWzBdO1xuICBjb25zdCBsYW5ndWFnZUljb24gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImxhbmd1YWdlSWNvblwiKTtcbiAgY29uc3QgbGFuZ19zdWJfbWVudSA9IGRvY3VtZW50LmdldEVsZW1lbnRzQnlDbGFzc05hbWUoXCJsYW5nLXN1Yi1tZW51XCIpWzBdO1xuXG4gIGlmICghbGFuZ3VhZ2VJY29uKSByZXR1cm47XG5cbiAgbGFuZ3VhZ2VJY29uLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoZSkgPT4ge1xuICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgbGFuZ19zdWJfbWVudS5jbGFzc0xpc3QudG9nZ2xlKFwiYWN0aXZlXCIpO1xuICB9KTtcblxuICBib2R5LmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoZSkgPT4ge1xuICAgIGlmIChsYW5ndWFnZUljb24pIHtcbiAgICAgIGlmICghZS50YXJnZXQuY2xhc3NMaXN0LmNvbnRhaW5zKFwibGFuZy1zdWItbWVudVwiKSlcbiAgICAgICAgbGFuZ19zdWJfbWVudS5jbGFzc0xpc3QucmVtb3ZlKFwiYWN0aXZlXCIpO1xuICAgIH1cbiAgfSk7XG59XG5cbmZ1bmN0aW9uIHRyaWdnZXJTZWFyY2hCb3goKSB7XG4gIGNvbnN0IGJvZHkgPSBkb2N1bWVudC5nZXRFbGVtZW50c0J5VGFnTmFtZShcImJvZHlcIilbMF07XG4gIGNvbnN0IHRyaWdnZXJTZWFyY2hCb3ggPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInRyaWdnZXJTZWFyY2hCb3hcIik7XG4gIGNvbnN0IHRyaWdnZXJTZWFyY2hCb3hNb2JpbGUgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcbiAgICBcInRyaWdnZXJTZWFyY2hCb3hNb2JpbGVcIlxuICApO1xuICBjb25zdCBzZWFyY2hQb3B1cCA9IGRvY3VtZW50LmdldEVsZW1lbnRzQnlDbGFzc05hbWUoXG4gICAgXCJzaXRlLWhlYWRlcl9fc2VhcmNoLXBvcHVwXCJcbiAgKVswXTtcblxuICBpZiAodHJpZ2dlclNlYXJjaEJveCA9PT0gbnVsbCB8fCBzZWFyY2hQb3B1cCA9PT0gbnVsbCkge1xuICAgIHJldHVybjtcbiAgfVxuXG4gIGZ1bmN0aW9uIGhhbmRsZVNlYXJjaEJveENsaWNrKCkge1xuICAgIHNlYXJjaFBvcHVwLmNsYXNzTGlzdC50b2dnbGUoXCJhY3RpdmVcIik7XG4gICAgYm9keS5jbGFzc0xpc3QudG9nZ2xlKFwiZGlzYWJsZS1zY3JvbGwtc2VhcmNoXCIpO1xuICB9XG5cbiAgaWYgKHRyaWdnZXJTZWFyY2hCb3gpIHtcbiAgICB0cmlnZ2VyU2VhcmNoQm94LmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCBoYW5kbGVTZWFyY2hCb3hDbGljayk7XG4gIH1cblxuICBpZiAodHJpZ2dlclNlYXJjaEJveE1vYmlsZSkge1xuICAgIHRyaWdnZXJTZWFyY2hCb3hNb2JpbGUuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIGhhbmRsZVNlYXJjaEJveENsaWNrKTtcbiAgfVxufVxuXG5mdW5jdGlvbiB0cmlnZ2VyTW9iaWxlTWVudSgpIHtcbiAgY29uc3QgYm9keSA9IGRvY3VtZW50LmdldEVsZW1lbnRzQnlUYWdOYW1lKFwiYm9keVwiKVswXTtcbiAgY29uc3QgaGFtYnVyZ2VyID0gZG9jdW1lbnQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZShcbiAgICBcInNpdGUtaGVhZGVyX19tb2JpbGUtd3JhcC0taGFtYnVyZ2VyXCJcbiAgKVswXTtcbiAgY29uc3QgbW9iaWxlTW9iaWxlTWVudSA9IGRvY3VtZW50LmdldEVsZW1lbnRzQnlDbGFzc05hbWUoXCJtb2JpbGUtbWVudVwiKVswXTtcblxuICBpZiAoaGFtYnVyZ2VyID09PSBudWxsKSB7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgY29uc3QgemVyb0xldmVsSXRlbXMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKFxuICAgIFwiI21vYmlsZS1tZW51LW5hdmlnYXRpb24gbGkuY2hpbGRyZW4temVyby1sZXZlbC5tZW51LWl0ZW0taGFzLWNoaWxkcmVuXCJcbiAgKTtcbiAgY29uc3QgZmlyc3RMZXZlbEl0ZW1zID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChcbiAgICBcIiNtb2JpbGUtbWVudS1uYXZpZ2F0aW9uIGxpLmNoaWxkcmVuLWZpcnN0LWxldmVsLm1lbnUtaXRlbS1oYXMtY2hpbGRyZW5cIlxuICApO1xuXG4gIC8vIEZ1bmN0aW9uIHRvIGNyZWF0ZSBhIHN1Ym1lbnUgdG9nZ2xlIGJ1dHRvbiBhbmQgYXR0YWNoIHRoZSBjbGljayBldmVudFxuICBmdW5jdGlvbiBjcmVhdGVTdWJNZW51VG9nZ2xlKGl0ZW0sIHRvZ2dsZUNsYXNzKSB7XG4gICAgY29uc3Qgc3ViTWVudVRvZ2dsZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJidXR0b25cIik7XG4gICAgc3ViTWVudVRvZ2dsZS5jbGFzc0xpc3QuYWRkKHRvZ2dsZUNsYXNzKTtcblxuICAgIHN1Yk1lbnVUb2dnbGUuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIGZ1bmN0aW9uICgpIHtcbiAgICAgIHRoaXMuY2xhc3NMaXN0LnRvZ2dsZShcImFjdGl2ZVwiKTtcbiAgICAgIGl0ZW0uY2xhc3NMaXN0LnRvZ2dsZShcImFjdGl2ZVwiKTtcbiAgICB9KTtcblxuICAgIGl0ZW0uYXBwZW5kQ2hpbGQoc3ViTWVudVRvZ2dsZSk7XG4gIH1cblxuICAvLyBBZGQgc3VibWVudSB0b2dnbGUgYnV0dG9ucyB0byB6ZXJvLWxldmVsIGl0ZW1zXG4gIHplcm9MZXZlbEl0ZW1zLmZvckVhY2goKHplcm9JdGVtKSA9PiB7XG4gICAgY3JlYXRlU3ViTWVudVRvZ2dsZSh6ZXJvSXRlbSwgXCJzdWItbWVudS10b2dnbGVcIik7XG4gIH0pO1xuXG4gIC8vIEFkZCBzdWJtZW51IHRvZ2dsZSBidXR0b25zIHRvIGZpcnN0LWxldmVsIGl0ZW1zXG4gIGZpcnN0TGV2ZWxJdGVtcy5mb3JFYWNoKChmaXJzdExldmVsSXRlbSkgPT4ge1xuICAgIGNyZWF0ZVN1Yk1lbnVUb2dnbGUoZmlyc3RMZXZlbEl0ZW0sIFwic3ViLW1lbnUtbGV2ZWwtdHdvLXRvZ2dsZVwiKTtcbiAgfSk7XG5cbiAgaGFtYnVyZ2VyLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCBmdW5jdGlvbiAoKSB7XG4gICAgdGhpcy5jbGFzc0xpc3QudG9nZ2xlKFwiaGFtYnVyZ2VyLS1hY3RpdmVcIik7XG4gICAgbW9iaWxlTW9iaWxlTWVudS5jbGFzc0xpc3QudG9nZ2xlKFwiYWN0aXZlXCIpO1xuICAgIGJvZHkuY2xhc3NMaXN0LnRvZ2dsZShcImRpc2FibGUtc2Nyb2xsLXNlYXJjaFwiKTtcbiAgfSk7XG59XG5cbm9uUmVhZHkoKCkgPT4ge1xuICBzaG93TWVudSgpO1xuICBsYW5ndWFnZVN3aXRjaGVyKCk7XG4gIHRyaWdnZXJTZWFyY2hCb3goKTtcbiAgdHJpZ2dlck1vYmlsZU1lbnUoKTtcblxuICAvLyBUT0RPOiBSZW1vdmUgdGhpcyBhZnRlciBmaXhpbmcgdGhlIGZvbnQgbG9hZGluZyBpc3N1ZS5cbiAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgZ2V0TWFpbk5hdldpZHRoKCk7XG4gIH0sIDIwMDApO1xufSk7XG4iLCIoKCkgPT4ge1xuICByZXF1aXJlKFwiLi9jb21wb25lbnRzL2hlYWRlci5qc1wiKTtcbn0pKCk7IiwiLyoqXG4gKlxuICogQHBhcmFtIHtGdW5jdGlvbn0gZm4gVGhlIHVzZXIgZGVmaW5lZCBmdW5jdGlvbiB0byBleGVjdXRlIG9ubHkgdXBvbiBzdWNjZXNzZnVsIERPTSBsb2FkXG4gKi9cbmV4cG9ydCBjb25zdCBvblJlYWR5ID0gKGZuKSA9PiB7XG4gIGlmIChkb2N1bWVudC5yZWFkeVN0YXRlICE9PSBcImxvYWRpbmdcIikge1xuICAgIGZuKCk7XG4gIH0gZWxzZSB7XG4gICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcIkRPTUNvbnRlbnRMb2FkZWRcIiwgZm4pO1xuICB9XG59O1xuXG4vKipcbiAqIEV4ZWN1dGUgYSBnaXZlbiBmdW5jdGlvbiBhZnRlciBhIGdpdmluZyB0aW1lb3V0IHBlcmlvZFxuICogQHBhcmFtIHtGdW5jdGlvbn0gZm4gVGhlIGZ1bmN0aW9uIHRvIGNhbGxcbiAqIEBwYXJhbSB7bnVtYmVyfSB0aW1lb3V0IEluIG1pbGlzZWNvbmRzIHRoZSBhbW91bnQgb2YgdGltZSB0byB3YWl0XG4gKiBAcmV0dXJucyB7RnVuY3Rpb259XG4gKi9cbmV4cG9ydCBjb25zdCBkZWJvdW5jZSA9IChmbiwgdGltZW91dCkgPT4ge1xuICBsZXQgdGltZW91dElkO1xuXG4gIHJldHVybiBmdW5jdGlvbiAoLi4uYXJncykge1xuICAgIGNsZWFyVGltZW91dCh0aW1lb3V0SWQpO1xuICAgIHRpbWVvdXRJZCA9IHNldFRpbWVvdXQoKCkgPT4gZm4uYXBwbHkodGhpcywgYXJncyksIHRpbWVvdXQpO1xuICB9O1xufTsiXX0=
